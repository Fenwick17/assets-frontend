.flex-container {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-start;
  padding: 0 15px;

  .card {
    border: 1px solid $panel-colour;
    flex-grow: 0;
    flex-basis: 100%;
    margin-bottom: 2em;
  
    &.inactive {
      color: $secondary-text-colour;
    }
  
    .card-heading {
      margin-top: 0;
    }
  
    .card-body {
      border-bottom: 1px solid $panel-colour;
      padding: 12px;
  
      *:last-child {
        margin-bottom: 0;
      }
  
      &.active {
        background-color: $grey-4;
        transition: .1s ease-in-out;
  
        .card-heading a {
          color: $link-colour;
          margin-top: 0;
        }
      }
  
      .status {
        border-radius: 2px;
        color: $page-colour;
        margin-bottom: 8px;
        padding: 3px 6px 1px;
        transition: .1s ease-in;
      }
  
      .status-low {
        border: 1px solid $secondary-text-colour;
        color: $text-colour;
      }
  
      .status-high {
        background-color: $link-colour;
        border: 1px solid $link-colour;
      }
  
      .status-med {
        background-color: $secondary-text-colour;
        border: 1px solid $secondary-text-colour;
      }
  
      .detail-large {
        font-size: 48px;
        font-weight: 600;
        margin-bottom: 8px;
      }
  
      .detail {
        font-weight: 600;
        margin-bottom: 8px;
      }
      
    }
  
    .card-action {
      border-top: 0;
      padding: 12px;
  
      a {
        border-bottom: 1px solid #C7DCEB;
        color: $link-colour;
        text-decoration: none;
        line-height: 1.5em;
  
        &:link,
        &:visited {
          color: $link-colour;
        }
  
        &:hover {
          border-bottom: 1px solid $link-colour;
          color: #2e8aca;
        }
      }
  
      ul {
        margin: 0;
  
        li {
          margin: 0 0 1em;
  
          &:last-child {
            margin-bottom: 0;
          }
        }  
      }
    }
  }
}

html[data-useragent*="MSIE 10.0"] 
.flex-container {
  .card {
    flex-basis: 31%;
    margin: 3%;
  }
}

.js-enabled {
  .card-body {
    &.active {
      &:hover {
        background-color: $link-colour;
        color: $page-colour;
        cursor: pointer;
        transition: .1s ease-in-out;
        transition-delay: .25s;

        .card-heading a{
          color: $page-colour;
          transition-delay: .25s;
        }

        .status-low {
          border: 1px solid $page-colour;
          color: $page-colour;
          transition-delay: .25s;
        }

        .status-med {
          background-color: $link-colour;
          border: 1px solid $page-colour;
          color: $page-colour;
          transition-delay: .25s;
        }

        .status-high {
          border: 1px solid $page-colour;
          transition-delay: .25s;
        }

        .detail-large {
          color: $page-colour;
          transition-delay: .25s;
        }
      }

      a {
        display: inline-block;
        text-decoration: none;
      }
    }
  }
}

@media screen and (min-width:600px) and (max-width:900px) {
  .card {
    flex-basis: 45.99%;
    // Every card in the first row needs horizontal margin
    &:nth-child(2n-1) {
      margin-right: 3%;
    }
    // Every card in the second row needs horizontal margin
    &:nth-child(2n-2) {
      margin-left: 3%;
    }
  }
}

@media screen and (min-width:900px) {
  .card {
    flex-basis: 31%;

    &:nth-child(3n-1) {
      margin-left: 3%;
      margin-right: 3%;
    }
  }
}